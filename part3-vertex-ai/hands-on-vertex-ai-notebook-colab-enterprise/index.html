<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Hands-On 02: Vertex AI Notebooks (Colab Enterprise) - AIMS GCP ML Tutorial</title><meta property="og:title" content="Hands-On 02: Vertex AI Notebooks (Colab Enterprise) - AIMS GCP ML Tutorial"/><meta name="generator" content="mystmd"/><meta name="description" content="A no-fluff guide to using GCP for ML experiments and research"/><meta property="og:description" content="A no-fluff guide to using GCP for ML experiments and research"/><meta name="keywords" content="GCP, AI, GPU, Machine Learning, Research, Experiments, MLOps"/><meta name="image" content="/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png"/><meta property="og:image" content="/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png"/><link rel="stylesheet" href="/gcp-tutorial-aims/build/_assets/app-2K3KGISG.css"/><link rel="stylesheet" href="/gcp-tutorial-aims/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/gcp-tutorial-aims/favicon.ico"/><link rel="stylesheet" href="/gcp-tutorial-aims/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100%;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-full top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/gcp-tutorial-aims/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">AIMS GCP ML Tutorial</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 dark:text-gray-300 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-full xl:pointer-events-none overflow-auto max-xl:w-[75vw] max-xl:max-w-[350px] max-xl:!top-0 max-xl:h-screen hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden max-xl:h-full hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity lg:hidden ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="AIMS GCP Tutorial" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/gcp-tutorial-aims/">AIMS GCP Tutorial</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Part 1 - GCP Foundations" class="block break-words rounded py-2 grow cursor-pointer">Part 1 - GCP Foundations</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Part 2 - Running Experiments On GCP VMs" class="block break-words rounded py-2 grow cursor-pointer">Part 2 - Running Experiments On GCP VMs</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Part 3 - Vertex AI" class="block break-words rounded py-2 grow cursor-pointer">Part 3 - Vertex AI</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Part 4 - Cost Management" class="block break-words rounded py-2 grow cursor-pointer">Part 4 - Cost Management</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Appendix" class="block break-words rounded py-2 grow cursor-pointer">Appendix</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0 ml-3 xl:ml-0 mr-3 max-w-[350px]"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="myst-fm-license-cc-badge opacity-50 hover:opacity-100 text-inherit hover:text-inherit myst-fm-license-content" aria-label="Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-main inline-block mx-1"><title>Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-by inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial" title="GitHub Repository: rexsimiloluwa/aims-ai-gcp-tutorial" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial/edit/main/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Hands-On 02: Vertex AI Notebooks (Colab Enterprise)</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78ucp:" data-state="closed"><span class="myst-fm-author-name">AIMS TtT Team</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><h2 id="overview" class="relative group"><span class="heading-text">Overview</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#overview" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this hands on session, we will run the same Gemma 1B fine-tuning experiment using <strong>Colab Enterprise</strong>, Vertex AI’s managed notebook environment. Unlike the Custom Training Job approach where you submit a job specification and wait, Colab Enterprise gives you an interactive Jupyter notebook (similar to Google Colab) that runs directly in your browser with no SSH or infrastructure setup required.</p><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>This hands-on tutorial uses the same Gemma 1B fine-tuning experiment from the previous chapter. If you want to understand the experiment in detail, refer back to <strong><a class="link" href="/gcp-tutorial-aims/part2-running-experiments-on-gcp-vms/hands-on-running-ai-experiments-on-gcp-vms">Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM</a></strong>.</p></div></aside><h2 id="learning-objectives" class="relative group"><span class="heading-text">Learning Objectives</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#learning-objectives" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>By the end of this session, you will be able to:</p><ul><li><p>Create a runtime template with a GPU configuration in Colab Enterprise</p></li><li><p>Create and connect a runtime to a notebook</p></li><li><p>Run the fine-tuning experiment interactively in a notebook</p></li><li><p>Clean up all resources after the session.</p></li></ul><h2 id="prerequisites" class="relative group"><span class="heading-text">Prerequisites</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#prerequisites" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p>A WandB account and API key</p></li><li><p>A HuggingFace account and API token with the Gemma 3 1B model license agreement accepted.</p></li></ul><aside class="myst-admonition myst-admonition-important my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path fill-rule="evenodd" d="M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z" clip-rule="evenodd"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Important</div></div><div class="myst-admonition-body px-4 py-1"><p>To follow this tutorial, you need a GCP project with the Vertex AI API enabled. Kindly navigate to the <strong>APIs and services</strong> page to enable the API for Vertex AI, if it is not already enabled.</p></div></aside><hr class="py-2 my-5 translate-y-2"/><h2 id="step-1-open-colab-enterprise" class="relative group"><span class="heading-text">Step 1: Open Colab Enterprise</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-open-colab-enterprise" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ol start="1"><li><p>Go to your <a target="_blank" rel="noreferrer" href="https://console.cloud.google.com" class="link whitespace-nowrap"><span class="link-text whitespace-normal">GCP Console</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p>In the left sidebar, navigate to <strong>Vertex AI</strong></p></li><li><p>Under the <strong>Notebooks</strong> section, click <strong>Colab Enterprise</strong>.</p></li></ol><figure id="uRiv51uPn6" class="fig-figure"><img id="XpIR36uk5Z" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png" alt="Colab Enterprise page" data-canonical-url="./images/gcp-console-colab-enterprise-page.png.png" class=""/><figcaption class="group"><p>Screenshot of the Colab enterprise page in Vertex AI</p></figcaption></figure><h2 id="step-2-create-a-runtime-template" class="relative group"><span class="heading-text">Step 2: Create a Runtime Template</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-create-a-runtime-template" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>A runtime template defines the hardware configuration that your notebook will run on. We create it once and can reuse it across multiple notebooks.</p><p>In the left sidebar, click <strong>Runtime templates</strong>, then click <strong>Create a new runtime template.</strong></p><figure id="F2NTqEiYmq" class="fig-figure"><img id="mH5hbkvpOg" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-colab-en-e61d70c0a6f10dce66c2b478f19e74cc.png" alt="Colab Enterprise page" data-canonical-url="./images/gcp-console-colab-enterprise-page-create-runtime-template.png" class=""/><figcaption class="group"><p>Screenshot: Create a new runtime template</p></figcaption></figure><p>The runtime template creation has four sections.</p><p><strong>Runtime basics</strong></p><ul><li><p>Enter a name for the template, for example <code>nvidia-l4-gpu-template</code></p></li><li><p>Select the region for the runtime template, for example <code>europe-west4</code></p></li></ul><figure id="yu1gxciXZq" class="fig-figure"><img id="JqUmwFTtWV" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-e5897e3550d53d6102c4004886ac57a8.png" alt="Runtime basics" data-canonical-url="./images/gcp-console-vertex-notebook-create-runtime-template-basics.png" class=""/><figcaption class="group"><p>Screenshot: Runtime basics (edit display name and select region)</p></figcaption></figure><p><strong>Configure compute</strong></p><p>This is where we configure the compute associated with the runtime template.</p><ul><li><p>Under <strong>Machine Type</strong>, select <code>g2-standard-4</code></p></li><li><p>Under <strong>Accelerator type</strong>, select <code>NVIDIA_L4</code> and set Accelerator count to <code>1</code></p></li></ul><figure id="D3zK07k5pH" class="fig-figure"><img id="u5SiVjyDBj" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-da1d331ccc8fc0358b19053921cbd329.png" alt="Configure runtime template machine configuration" data-canonical-url="./images/gcp-console-vertex-notebook-create-runtime-template-configure-compute.png" class=""/><figcaption class="group"><p>Screenshot: Configure machine configuration for the runtime template</p></figcaption></figure><p><strong>Configure Python Environment</strong></p><ul><li><p>Select the Python environment under the <strong>Environment</strong> input (you can use Python 3.12)</p></li><li><p>Under the <strong>Environment variables</strong>, add your environment variables:</p><ul><li><p><code>HF_TOKEN</code> = Your HuggingFace API token</p></li><li><p><code>WANDB_API_KEY</code> = Your WandB API key</p></li><li><p><code>WANDB_PROJECT</code> = Your WandB project name</p></li><li><p><code>BUCKET_NAME</code> = Your GCS bucket name</p></li></ul></li></ul><figure id="KRoHT88jP0" class="fig-figure"><img id="peqSxvEeW3" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-e5670c13da572a7cae5a6899d27807f0.png" alt="Configure runtime template Python environment" data-canonical-url="./images/gcp-console-vertex-notebook-create-runtime-template-environment.png" class=""/><figcaption class="group"><p>Screenshot: Configure Python environment for runtime template with environment variables filled in</p></figcaption></figure><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>Adding environment variables here means they are automatically available in every notebook that connects to this runtime. You do not need to set them manually in your notebook cells.</p></div></aside><aside class="myst-admonition myst-admonition-warning my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-amber-600"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-amber-600 bg-amber-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-amber-600"><path fill-rule="evenodd" d="M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Warning</div></div><div class="myst-admonition-body px-4 py-1"><p>Do not share your runtime template with others as it contains your API keys. Keep it private to your GCP project.</p></div></aside><p><strong>Networking and security</strong></p><p>This is where we choose the networking configuration.</p><ul><li><p>Under <strong>Network</strong> input, select the VPC you created earlier (<code>similoluwa-vpc</code>) or create a new VPC.</p></li><li><p>Select the same VPC under the <strong>Subnetwork</strong> input.</p></li></ul><figure id="hku6kVBwxA" class="fig-figure"><img id="g2jCL7j69Q" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-12b0407aa7d5f6c302683e4a954feaff.png" alt="Colab Enterprise page" data-canonical-url="./images/gcp-console-vertex-notebook-create-runtime-template-networking.png" class=""/><figcaption class="group"><p>Screenshot: Networking and security section with VPC selected</p></figcaption></figure><p>Finally, click the <strong>Create</strong> button to create the runtime template.</p><h2 id="step-3-create-a-runtime" class="relative group"><span class="heading-text">Step 3: Create a Runtime</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-create-a-runtime" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now, we can create a runtime using the runtime template that was just created.</p><ol start="1"><li><p>In the left sidebar, click <strong>Runtimes</strong></p></li><li><p>Click <strong>Create new runtime</strong></p></li><li><p>Select the template you just created i.e. <code>nvidia-l4-gpu-template</code>, under the <strong>Runtime template</strong> input</p></li><li><p>Enter a name for your runtime in the <strong>Runtime name</strong> input</p></li><li><p>Click <strong>Create</strong> and wait for it to provision. This takes a few seconds.</p></li></ol><figure id="fGGieDXG24" class="fig-figure"><img id="eAYv4P32Hr" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-create-v-3c8d9b81df57de6d79fd892b440e8324.png" alt="Colab Enterprise page" data-canonical-url="./images/gcp-console-create-vertexai-runtime.png" class=""/><figcaption class="group"><p>Screenshot: Create a new runtime using the created runtime template</p></figcaption></figure><h2 id="step-4-create-a-notebook-and-connect-to-the-runtime" class="relative group"><span class="heading-text">Step 4: Create a Notebook and Connect to the Runtime</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-4-create-a-notebook-and-connect-to-the-runtime" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now, we can create a Vertex AI notebook using the newly created runtime.</p><ol start="1"><li><p>On the Colab Enterprise main page, click the <strong>Create notebook</strong> button in Quick actions section</p></li><li><p>Once the notebook opens, click the <strong>Connect</strong> dropdown in the top right</p></li><li><p>Click <strong>Connect to a runtime</strong></p></li><li><p>In the <strong>Connect to Vertex AI runtime</strong> dialog:</p><ul><li><p>Select the <strong>Connect to an existing runtime</strong> option</p></li><li><p>Select the runtime you just created under the <strong>Select an existing runtime</strong> input</p></li></ul></li><li><p>Finally, click <strong>Create</strong> to connect to the runtime.</p></li></ol><figure id="SROk66Zzod" class="fig-figure"><img id="dYnBb7hQnC" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-colab-en-a89405339ee16ba271759b77e509f9ab.png" alt="Create a new notebook " data-canonical-url="./images/gcp-console-colab-enterprise-page-create-notebook.png" class=""/><figcaption class="group"><p>Screenshot: Create Colab Enterprise notebook</p></figcaption></figure><figure id="GdtnlaUr6p" class="fig-figure"><img id="GZ07E6c4pg" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-3a63760893420cf692c2afac5422c666.png" alt="Connect to a runtime dropdown" data-canonical-url="./images/gcp-console-vertex-notebook-connect-to-runtime.png" class=""/><figcaption class="group"><p>Screenshot: Connect to a runtime dropdown</p></figcaption></figure><figure id="VguqXBWNoD" class="fig-figure"><img id="HjJJ8BtxpW" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-371f2e2b473109e7b4dc668e2ae56e15.png" alt="Connect to a runtime dialog" data-canonical-url="./images/gcp-console-vertex-notebook-connect-to-runtime-dialog.png" class=""/><figcaption class="group"><p>Screenshot: Connect to a runtime dialog</p></figcaption></figure><p>Once connected, the runtime immediately becomes active and you can start using notebook.</p><h2 id="step-5-using-the-notebook" class="relative group"><span class="heading-text">Step 5: Using the Notebook</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-5-using-the-notebook" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this section, we will use the notebook to fine-tune the Gemma 3 1B model.</p><p><strong>Verify the GPU is Available</strong></p><p>To verify the GPU is available:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">%%bash
nvidia-smi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="bkVs0eMIe4" class="fig-figure"><img id="BFyPuCmTCr" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-16afecf02d5053c870d4a100e957e9c7.png" alt="Testing `nvidia-smi` command in Vertex notebook" data-canonical-url="./images/gcp-console-vertex-notebook-nvidia-smi.png" class=""/><figcaption class="group"><p>Screenshot: Testing <code>nvidia-smi</code> command in Vertex notebook</p></figcaption></figure><p><strong>Set Up the Python Environment</strong></p><p>In the next cell, install <code>uv</code> and clone the repository:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">%%bash
curl -LsSf https://astral.sh/uv/install.sh | sh
source $HOME/.local/bin/env
git clone https://github.com/rexsimiloluwah/finetuning-gemma-1b-aims-gcp-tutorial.git
cd finetuning-gemma-1b-aims-gcp-tutorial
uv sync</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><strong>Run Training</strong></p><p>In the next cell, run the fine-tuning script:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">%%bash
source $HOME/.local/bin/env
cd finetuning-gemma-1b-aims-gcp-tutorial
uv run python -m scripts.run_train data.source=gcs data.max_train_samples=10000 training.num_epochs=2 training.batch_size=8 experiment_id=exp_lora_r8_colab</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Training takes roughly 20-30 minutes on the L4. You can monitor progress in real time from your WandB dashboard at <a target="_blank" rel="noreferrer" href="http://wandb.ai" class="link whitespace-nowrap"><span class="link-text whitespace-normal">wandb.ai</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> while the cell is running.</p><figure id="VbcdgSQGhZ" class="fig-figure"><img id="NJBEEpMcBc" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-2386e9c6c0dd3d096bcf1c4526bcaa09.png" alt="Run the training script" data-canonical-url="./images/gcp-console-vertex-notebook-train-script.png" class=""/><figcaption class="group"><p>Screenshot: Run the training script in the Vertex notebook. Here, it was trained for only 1 epoch using 500 samples for demonstration purposes. Do not expect any good results during evaluation.</p></figcaption></figure><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>Unlike the VM-based session, you do not need tmux here. The notebook cell keeps running even if you close your browser tab, as long as the runtime stays active. You can come back later and see the output when it completes.</p></div></aside><p><strong>Run Evaluation</strong></p><p>Once training finishes, run evaluation in the next cell:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">%%bash
source $HOME/.local/bin/env
cd finetuning-gemma-1b-aims-gcp-tutorial
uv run python -m scripts.run_evaluate \
    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \
    --eval_file data/eval/eval_prompts.jsonl \
    --max_eval_samples 200</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="sFpEuxAL57" class="fig-figure"><img id="RqGaXH1IAy" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-002cef6be53f131a92d84576c0e4719f.png" alt="Run the evaluation script" data-canonical-url="./images/gcp-console-vertex-notebook-evaluate-script.png" class=""/><figcaption class="group"><p>Screenshot: Run the evaluation script.</p></figcaption></figure><p>This computes perplexity and repetition rate on 200 eval examples and logs the results to WandB.</p><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>Do not worry about the evaluation results. The goal of this session is to walk through the complete workflow, not to produce a state-of-the-art model.</p></div></aside><p><strong>Run Inference</strong></p><p>Test the trained model on a single instruction in the next cell:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">%%bash
source $HOME/.local/bin/env
cd finetuning-gemma-1b-aims-gcp-tutorial
uv run python -m scripts.run_inference \
    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \
    --instruction &quot;Explain what machine learning is in simple terms&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="wVx5Kk6KGE" class="fig-figure"><img id="W60hq0yazl" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-vertex-n-1a896613c7d6ad24ad56d97feed9a2f1.png" alt="Run the inference script" data-canonical-url="./images/gcp-console-vertex-notebook-inference-script.png" class=""/><figcaption class="group"><p>Screenshot: Run the inference script.</p></figcaption></figure><h2 id="step-6-resource-cleanup" class="relative group"><span class="heading-text">Step 6: Resource Cleanup</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-6-resource-cleanup" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside class="myst-admonition myst-admonition-danger my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-red-600"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-red-600 bg-red-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-red-600"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Danger</div></div><div class="myst-admonition-body px-4 py-1"><p>Colab Enterprise runtimes are billed by the hour even when idle. Always delete the runtime when you are done to avoid unexpected charges.</p></div></aside><p>Delete the runtime from the GCP Console:</p><ol start="1"><li><p>In the left sidebar, click <strong>Runtimes</strong></p></li><li><p>Find your runtime in the list</p></li><li><p>Click the three dots menu next to it</p></li><li><p>Click <strong>Delete</strong></p></li></ol><aside class="myst-admonition myst-admonition-tip my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Tip</div></div><div class="myst-admonition-body px-4 py-1"><p>You can alternatively click <strong>Stop</strong> if you want to retain your data/environment for later use.</p></div></aside><figure id="VHJQamTvAp" class="fig-figure"><img id="h6rNDUktnz" style="margin-left:auto;margin-right:auto" src="/gcp-tutorial-aims/build/gcp-console-delete-v-e76bff1a8b1b19f50ea4cfa9e60f332e.png" alt="Delete the vertex AI runtime" data-canonical-url="./images/gcp-console-delete-vertexai-runtime.png" class=""/><figcaption class="group"><p>Screenshot: Delete the Vertex AI runtime.</p></figcaption></figure><hr class="py-2 my-5 translate-y-2"/><h2 id="id-key-takeaways" class="relative group"><span class="heading-text">🔑 Key Takeaways</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-key-takeaways" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p>Colab Enterprise gives you an interactive GPU notebook environment with no infrastructure to manage, accessible directly from your browser</p></li><li><p>Creating a runtime template first and reusing it across notebooks saves time and ensures a consistent hardware configuration across sessions</p></li><li><p>Adding environment variables to the runtime template means credentials are automatically available in every notebook that connects to it, without hardcoding them in notebook cells</p></li><li><p>Unlike the VM-based approach, you do not need <code>tmux</code> since notebook cells keep running even if you close your browser, as long as the runtime stays active</p></li><li><p>For long training runs, a Custom Training Job is more reliable since it runs entirely unattended. Colab Enterprise is better suited for interactive experimentation and debugging.</p></li></ul><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/gcp-tutorial-aims/part3-vertex-ai/hands-on-vertex-ai-custom-training-job"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Part 3 - Vertex AI</div>Hands-On 01: Vertex AI Custom Training Jobs</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/gcp-tutorial-aims/part4-cost-management"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Part 4 - Cost Management</div>Introduction</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/gcp-tutorial-aims/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-G62B6HZR.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/root-PMP5BIHC.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/_shared/chunk-IX5KPAHP.js"/><link rel="modulepreload" href="/gcp-tutorial-aims/build/routes/$-5ZLZ2O3Y.js"/><script>window.__remixContext = {"url":"/part3-vertex-ai/hands-on-vertex-ai-notebook-colab-enterprise","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.1","title":"AIMS GCP ML Tutorial","options":{"favicon":"/gcp-tutorial-aims/build/favicon-9c1b76050d34814ad67e08962c75ba4b.ico","logo_text":"AIMS GCP ML Tutorial","folders":true},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"title":"AIMS GCP Tutorial","description":"A no-fluff guide to using GCP for ML experiments and research","authors":[{"id":"AIMS TtT Team","name":"AIMS TtT Team"}],"github":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial","keywords":["GCP","AI","GPU","Machine Learning","Research","Experiments","MLOps"],"id":"7eddb7b1-9986-44d1-8417-fe2b2bb4b498","toc":[{"file":"index.md"},{"children":[{"file":"part1-gcp-foundations/index.md"},{"file":"part1-gcp-foundations/01-understanding-gcp.md"},{"file":"part1-gcp-foundations/02-gcp-console.md"},{"file":"part1-gcp-foundations/03-the-gcloud-cli.md"},{"file":"part1-gcp-foundations/04-hands-on-gcp-console.md"},{"file":"part1-gcp-foundations/05-hands-on-gcloud-cli.md"}],"title":"Part 1 - GCP Foundations"},{"children":[{"file":"part2-running-experiments-on-gcp-vms/index.md"},{"file":"part2-running-experiments-on-gcp-vms/01-hands-on-running-ai-experiments-on-gcp-vms.md"}],"title":"Part 2 - Running Experiments On GCP VMs"},{"children":[{"file":"part3-vertex-ai/index.md"},{"file":"part3-vertex-ai/01-hands-on-vertex-ai-custom-training-job.md"},{"file":"part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md"}],"title":"Part 3 - Vertex AI"},{"children":[{"file":"part4-cost-management/index.md"},{"file":"part4-cost-management/01-hands-on-cost-management.md"}],"title":"Part 4 - Cost Management"},{"children":[{"file":"appendix/01-gpu-maths.md"},{"file":"append"}],"title":"Appendix"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Part 1 - GCP Foundations"},{"slug":"part1-gcp-foundations.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.understanding-gcp","title":"GCP Core Concepts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.gcp-console","title":"The GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-overview-b0c76d6554a04bc160a0262ab8e24177.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.the-gcloud-cli","title":"The Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcp-console","title":"Hands-On 01: Create a VM via GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on1-gcp-consol-7927d1237c10d55c080654e7081a4cf4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcloud-cli","title":"Hands-On 02: Automation with the Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on2-gcloud-vm--349f591393c1e589572c86fc8b2ed71c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 2 - Running Experiments On GCP VMs"},{"slug":"part2-running-experiments-on-gcp-vms.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part2-running-experiments-on-gcp-vms.hands-on-running-ai-experiments-on-gcp-vms","title":"Hands-On 01: Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/create_new_project_w-f36fb58a1839272a50ffb7d49ec6f322.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 3 - Vertex AI"},{"slug":"part3-vertex-ai.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-custom-training-job","title":"Hands-On 01: Vertex AI Custom Training Jobs","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcloud-submit-vertex-c4c097f7ccbbe4c52c6176dc1151d1ee.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-notebook-colab-enterprise","title":"Hands-On 02: Vertex AI Notebooks (Colab Enterprise)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 4 - Cost Management"},{"slug":"part4-cost-management.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part4-cost-management.hands-on-cost-management","title":"Hands-On: Setting Up Billing Alerts and Budgets","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-create-b-48e0e878886a7565065f28ac75dfdb50.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Appendix"},{"slug":"appendix.gpu-maths","title":"Appendix A: GPU Maths - Choosing the Right GPU for Your Experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/gcp-tutorial-aims"},"routes/$":{"config":{"version":3,"myst":"1.8.1","title":"AIMS GCP ML Tutorial","options":{"favicon":"/gcp-tutorial-aims/build/favicon-9c1b76050d34814ad67e08962c75ba4b.ico","logo_text":"AIMS GCP ML Tutorial","folders":true},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"title":"AIMS GCP Tutorial","description":"A no-fluff guide to using GCP for ML experiments and research","authors":[{"id":"AIMS TtT Team","name":"AIMS TtT Team"}],"github":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial","keywords":["GCP","AI","GPU","Machine Learning","Research","Experiments","MLOps"],"id":"7eddb7b1-9986-44d1-8417-fe2b2bb4b498","toc":[{"file":"index.md"},{"children":[{"file":"part1-gcp-foundations/index.md"},{"file":"part1-gcp-foundations/01-understanding-gcp.md"},{"file":"part1-gcp-foundations/02-gcp-console.md"},{"file":"part1-gcp-foundations/03-the-gcloud-cli.md"},{"file":"part1-gcp-foundations/04-hands-on-gcp-console.md"},{"file":"part1-gcp-foundations/05-hands-on-gcloud-cli.md"}],"title":"Part 1 - GCP Foundations"},{"children":[{"file":"part2-running-experiments-on-gcp-vms/index.md"},{"file":"part2-running-experiments-on-gcp-vms/01-hands-on-running-ai-experiments-on-gcp-vms.md"}],"title":"Part 2 - Running Experiments On GCP VMs"},{"children":[{"file":"part3-vertex-ai/index.md"},{"file":"part3-vertex-ai/01-hands-on-vertex-ai-custom-training-job.md"},{"file":"part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md"}],"title":"Part 3 - Vertex AI"},{"children":[{"file":"part4-cost-management/index.md"},{"file":"part4-cost-management/01-hands-on-cost-management.md"}],"title":"Part 4 - Cost Management"},{"children":[{"file":"appendix/01-gpu-maths.md"},{"file":"append"}],"title":"Appendix"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Part 1 - GCP Foundations"},{"slug":"part1-gcp-foundations.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.understanding-gcp","title":"GCP Core Concepts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.gcp-console","title":"The GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-overview-b0c76d6554a04bc160a0262ab8e24177.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.the-gcloud-cli","title":"The Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcp-console","title":"Hands-On 01: Create a VM via GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on1-gcp-consol-7927d1237c10d55c080654e7081a4cf4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcloud-cli","title":"Hands-On 02: Automation with the Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on2-gcloud-vm--349f591393c1e589572c86fc8b2ed71c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 2 - Running Experiments On GCP VMs"},{"slug":"part2-running-experiments-on-gcp-vms.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part2-running-experiments-on-gcp-vms.hands-on-running-ai-experiments-on-gcp-vms","title":"Hands-On 01: Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/create_new_project_w-f36fb58a1839272a50ffb7d49ec6f322.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 3 - Vertex AI"},{"slug":"part3-vertex-ai.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-custom-training-job","title":"Hands-On 01: Vertex AI Custom Training Jobs","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcloud-submit-vertex-c4c097f7ccbbe4c52c6176dc1151d1ee.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-notebook-colab-enterprise","title":"Hands-On 02: Vertex AI Notebooks (Colab Enterprise)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 4 - Cost Management"},{"slug":"part4-cost-management.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part4-cost-management.hands-on-cost-management","title":"Hands-On: Setting Up Billing Alerts and Budgets","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-create-b-48e0e878886a7565065f28ac75dfdb50.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Appendix"},{"slug":"appendix.gpu-maths","title":"Appendix A: GPU Maths - Choosing the Right GPU for Your Experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Article","sha256":"d3b78f5320ec3d2f44985290775f7b376236433ca1d4742e1b1f301058894827","slug":"part3-vertex-ai.hands-on-vertex-ai-notebook-colab-enterprise","location":"/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","dependencies":[],"frontmatter":{"title":"Hands-On 02: Vertex AI Notebooks (Colab Enterprise)","content_includes_title":false,"authors":[{"id":"AIMS TtT Team","name":"AIMS TtT Team"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial","keywords":["GCP","AI","GPU","Machine Learning","Research","Experiments","MLOps"],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial/blob/main/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","edit_url":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial/edit/main/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","thumbnail":"/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png","exports":[{"format":"md","filename":"02-hands-on-vertex-ai-notebook-colab-enterprise.md","url":"/gcp-tutorial-aims/build/02-hands-on-vertex-a-46da7e46f43f7c0208f89f115338cb62.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gvVzBFwIqT"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"ogWiH9lJ7s"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this hands on session, we will run the same Gemma 1B fine-tuning experiment using ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nxJzhV1FKu"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Colab Enterprise","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"j4qK4RagY9"}],"key":"TnUdHnE4eS"},{"type":"text","value":", Vertex AI’s managed notebook environment. Unlike the Custom Training Job approach where you submit a job specification and wait, Colab Enterprise gives you an interactive Jupyter notebook (similar to Google Colab) that runs directly in your browser with no SSH or infrastructure setup required.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kducLFPaNl"}],"key":"L4kmPCdID4"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"XkEgKOvXM3"}],"key":"jUAdonWCML"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"This hands-on tutorial uses the same Gemma 1B fine-tuning experiment from the previous chapter. If you want to understand the experiment in detail, refer back to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lekhJ70aDM"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"/part2-running-experiments-on-gcp-vms/hands-on-running-ai-experiments-on-gcp-vms","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oDw3SdoKSS"}],"urlSource":"../part2-running-experiments-on-gcp-vms/01-hands-on-running-ai-experiments-on-gcp-vms.md","dataUrl":"/part2-running-experiments-on-gcp-vms.hands-on-running-ai-experiments-on-gcp-vms.json","internal":true,"protocol":"file","key":"fzFm119eLZ"}],"key":"paw0kXk2tQ"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"wlIErzfB3l"}],"key":"qH0vEwdyr8"}],"key":"wdlVREqHGq"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JmT5UGKN84"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"cIU30LKZN3"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"By the end of this session, you will be able to:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zQAPGo7NQj"}],"key":"oxmFs6AdjN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a runtime template with a GPU configuration in Colab Enterprise","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"dICekWh5j0"}],"key":"kH23AjBgoB"}],"key":"bGDpb0KZ9D"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create and connect a runtime to a notebook","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"o1kRtfk2Vq"}],"key":"LkO2gJavZS"}],"key":"wR57VJAKbh"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run the fine-tuning experiment interactively in a notebook","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"d6SAAnCtli"}],"key":"kQpgW5JF8x"}],"key":"nH2Ui54mLv"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Clean up all resources after the session.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"oa1mQ8mkz3"}],"key":"fF9tq21GHc"}],"key":"S7cv03K1Nx"}],"key":"HlNQrLor9A"},{"type":"heading","depth":2,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Se7ijNah59"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"MxYtfcXpYm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A WandB account and API key","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"JrN2IcBo2q"}],"key":"IlTilOx3T9"}],"key":"NVTfmHeI37"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A HuggingFace account and API token with the Gemma 3 1B model license agreement accepted.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"eR9xy7hxw1"}],"key":"ypdH0qSPw0"}],"key":"ZBXR0cC9ug"}],"key":"hNjJcBIl9j"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"PtExXbKaY4"}],"key":"O0LySJvVMA"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"To follow this tutorial, you need a GCP project with the Vertex AI API enabled. Kindly navigate to the ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"p7bwbRsl4G"},{"type":"strong","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"APIs and services","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"e6fyJJ7weX"}],"key":"QoP8WMsLSo"},{"type":"text","value":" page to enable the API for Vertex AI, if it is not already enabled.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"kBAQoDsQKD"}],"key":"Xh6nY7HCeD"}],"key":"aP2IQCdNC7"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"rLMRddv2a2"},{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Step 1: Open Colab Enterprise","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"u4fEVDKT69"}],"identifier":"step-1-open-colab-enterprise","label":"Step 1: Open Colab Enterprise","html_id":"step-1-open-colab-enterprise","implicit":true,"key":"S31qxlGJN4"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Go to your ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"l4CxECanLt"},{"type":"link","url":"https://console.cloud.google.com","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"GCP Console","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"wi04feUjWe"}],"urlSource":"https://console.cloud.google.com","key":"d6FiwVw00e"}],"key":"WiHtsgWzc7"}],"key":"oLSCnK99ai"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, navigate to ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"m0AOfnifeo"},{"type":"strong","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Vertex AI","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"OXtoURN5fQ"}],"key":"AoqoVJ8grA"}],"key":"trNQyBm0Zd"}],"key":"gPAQBJeO09"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"s3J6FPnUqb"},{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Notebooks","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"qhNngvrm33"}],"key":"Ngk9rf3rKH"},{"type":"text","value":" section, click ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"KAhkNe2APd"},{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Colab Enterprise","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Oyi094eE8K"}],"key":"ixKg9qLRPc"},{"type":"text","value":".","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"BCuAv25dxw"}],"key":"QmKhXP936E"}],"key":"TIJKg2RzMF"}],"key":"CgZYdGNp1P"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png","alt":"Colab Enterprise page","align":"center","urlSource":"./images/gcp-console-colab-enterprise-page.png.png","key":"XpIR36uk5Z"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Screenshot of the Colab enterprise page in Vertex AI","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"CHKEUH4Ngi"}],"key":"Zn8lTitRjA"}],"key":"VEPhIMbsq4"}],"enumerator":"1","key":"uRiv51uPn6"},{"type":"heading","depth":2,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"Step 2: Create a Runtime Template","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"HPpyQDyMSn"}],"identifier":"step-2-create-a-runtime-template","label":"Step 2: Create a Runtime Template","html_id":"step-2-create-a-runtime-template","implicit":true,"key":"ChY7W6HpZS"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"A runtime template defines the hardware configuration that your notebook will run on. We create it once and can reuse it across multiple notebooks.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"p7w38hdDZr"}],"key":"ppBUOK4Vat"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"fhMBETE0Bb"},{"type":"strong","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Runtime templates","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"pLA62HR4KK"}],"key":"dkablkbkGJ"},{"type":"text","value":", then click ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"rcls7oGtcO"},{"type":"strong","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Create a new runtime template.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"s3PZYYFAQH"}],"key":"xk1P1h4Xk3"}],"key":"zsKAFGznej"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-colab-en-e61d70c0a6f10dce66c2b478f19e74cc.png","alt":"Colab Enterprise page","align":"center","key":"mH5hbkvpOg","urlSource":"./images/gcp-console-colab-enterprise-page-create-runtime-template.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"Screenshot: Create a new runtime template","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"dtBojtmdqo"}],"key":"gRE0YqbIMH"}],"key":"Hm7YDLO5jY"}],"enumerator":"2","key":"F2NTqEiYmq"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"The runtime template creation has four sections.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"aPGP5x3jLg"}],"key":"XSYfOIsq2h"},{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"strong","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Runtime basics","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"wAc17jFEYJ"}],"key":"wzRKgfWiEV"}],"key":"pliADrGClD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":61,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a name for the template, for example ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"EFCeGM71aK"},{"type":"inlineCode","value":"nvidia-l4-gpu-template","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"RlM7yauVMh"}],"key":"vhlK68YK0S"}],"key":"fmZnnilsxC"},{"type":"listItem","spread":true,"position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the region for the runtime template, for example ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"dANURjLS4x"},{"type":"inlineCode","value":"europe-west4","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"jxL7wg5v1H"}],"key":"bpMyst1oLu"}],"key":"w2p0RVt1gy"}],"key":"Da1YNyaoM5"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-e5897e3550d53d6102c4004886ac57a8.png","alt":"Runtime basics","align":"center","key":"JqUmwFTtWV","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-basics.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"Screenshot: Runtime basics (edit display name and select region)","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"Gcnb7hou54"}],"key":"uGJdclUH7F"}],"key":"faX8EuaMk5"}],"enumerator":"3","key":"yu1gxciXZq"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"strong","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Configure compute","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"m7iB5ZXmyr"}],"key":"fs1Rd6Dh8Z"}],"key":"fEeR3GLyBj"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"This is where we configure the compute associated with the runtime template.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"SRGdkOQfQC"}],"key":"kfw9pISCv1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":75,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"jUSWGqJaJW"},{"type":"strong","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Machine Type","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Vkx8HbwI1t"}],"key":"LwJuKXQd28"},{"type":"text","value":", select ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"D4rzV8O5IN"},{"type":"inlineCode","value":"g2-standard-4","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Oie21Vh6Bm"}],"key":"xrtlGP5QjD"}],"key":"B88HSMIyjC"},{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"lXTeSckH1a"},{"type":"strong","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"Accelerator type","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"DpupWhICix"}],"key":"hW4Cc87Dl1"},{"type":"text","value":", select ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"IfGwBhlalR"},{"type":"inlineCode","value":"NVIDIA_L4","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"gfMirIW7R2"},{"type":"text","value":" and set Accelerator count to ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"b8cDDOY3v8"},{"type":"inlineCode","value":"1","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"olG58FmUpu"}],"key":"AxXeCCwA6a"}],"key":"uAD9Il2bV5"}],"key":"fA4u3CtvfB"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-da1d331ccc8fc0358b19053921cbd329.png","alt":"Configure runtime template machine configuration","align":"center","key":"u5SiVjyDBj","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-configure-compute.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"Screenshot: Configure machine configuration for the runtime template","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"aEs51ujiyN"}],"key":"rjO35D9NsF"}],"key":"B7jCppqTny"}],"enumerator":"4","key":"D3zK07k5pH"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"strong","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"Configure Python Environment","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"nBORhl1g3H"}],"key":"nKomoPKTfE"}],"key":"YOoOyL0XtU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":87,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the Python environment under the ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"EDhTABQYq7"},{"type":"strong","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Environment","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"boF8atnujE"}],"key":"xZYTJgNk0W"},{"type":"text","value":" input (you can use Python 3.12)","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"SBPxsKZ2qp"}],"key":"iZhpSzLPBh"}],"key":"qduZN5VxQm"},{"type":"listItem","spread":true,"position":{"start":{"line":88,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"LL7XiMPKLL"},{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"Environment variables","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"DKLBVgjMpA"}],"key":"Oa4i7tAbA8"},{"type":"text","value":", add your environment variables:","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"cMYBqFKY2y"}],"key":"W1YuBvbxj7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"HF_TOKEN","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"SiJ59slwQU"},{"type":"text","value":" = Your HuggingFace API token","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"mEFPmpgiLD"}],"key":"k0NEAzeay5"}],"key":"v75HbgCBbO"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"WANDB_API_KEY","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"bqp0sAgQwP"},{"type":"text","value":" = Your WandB API key","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"iJFbGhvqqt"}],"key":"kL2y1iPgxY"}],"key":"TEqCHQmMA6"},{"type":"listItem","spread":true,"position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"WANDB_PROJECT","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"x76TeSNdVt"},{"type":"text","value":" = Your WandB project name","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"OY2imTpDQp"}],"key":"vZBmhtxXsg"}],"key":"PE36ONywdk"},{"type":"listItem","spread":true,"position":{"start":{"line":92,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"BUCKET_NAME","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"CkZDAgR1H7"},{"type":"text","value":" = Your GCS bucket name","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"hJBvkHWeLA"}],"key":"UjrhaIBccg"}],"key":"kNAHSmEmLF"}],"key":"CybVMcXYY0"}],"key":"QZIAaPy97D"}],"key":"tx1hIrP8fg"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-e5670c13da572a7cae5a6899d27807f0.png","alt":"Configure runtime template Python environment","align":"center","key":"peqSxvEeW3","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-environment.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Screenshot: Configure Python environment for runtime template with environment variables filled in","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"DO1V1gzX4y"}],"key":"r3KwlPVdI4"}],"key":"CdjswAOoVO"}],"enumerator":"5","key":"KRoHT88jP0"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"L8dsnH7hJ5"}],"key":"DDUHXYe3Jr"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Adding environment variables here means they are automatically available in every notebook that connects to this runtime. You do not need to set them manually in your notebook cells.","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"OzuOyNgvZE"}],"key":"O5nHR86zdi"}],"key":"VEn3oOiQFb"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"lTGJ2ggNkn"}],"key":"MPx2URAklm"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Do not share your runtime template with others as it contains your API keys. Keep it private to your GCP project.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"wz7wC4HqBP"}],"key":"nFcJoboj5k"}],"key":"xjL8nS9HSQ"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"strong","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Networking and security","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"pl5suj8av1"}],"key":"c4pXY1UhFk"}],"key":"miXZpw0tCY"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"This is where we choose the networking configuration.","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"SJdnF1NTnJ"}],"key":"CBkcRgqTfs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"dKLdQNtdKm"},{"type":"strong","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Network","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"gxek05DLCL"}],"key":"yrKNabb2w4"},{"type":"text","value":" input, select the VPC you created earlier (","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ne2o9yG3Gy"},{"type":"inlineCode","value":"similoluwa-vpc","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"mSArAb9why"},{"type":"text","value":") or create a new VPC.","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"rfyBNzM5Lq"}],"key":"qDnLOGaWGE"}],"key":"o7WZdE5cng"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the same VPC under the ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"RYvyCeFiGy"},{"type":"strong","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Subnetwork","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"BRAENr8zls"}],"key":"YM2TqA42aV"},{"type":"text","value":" input.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"mTXdqjeYM6"}],"key":"N8m5o2ZRXQ"}],"key":"UPDN3C4bBd"}],"key":"MzdvO3Q9jN"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-12b0407aa7d5f6c302683e4a954feaff.png","alt":"Colab Enterprise page","align":"center","key":"g2jCL7j69Q","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-networking.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Screenshot: Networking and security section with VPC selected","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"uS8apcLiZx"}],"key":"JpHtzsrVJO"}],"key":"GJdqC6cXJG"}],"enumerator":"6","key":"hku6kVBwxA"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Finally, click the ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"wRoLYjlMJE"},{"type":"strong","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"UrTgT12Le2"}],"key":"aymz7pllZ5"},{"type":"text","value":" button to create the runtime template.","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"l3lL78MB7q"}],"key":"QzONSINrfB"},{"type":"heading","depth":2,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Step 3: Create a Runtime","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"OzkwNm2KUc"}],"identifier":"step-3-create-a-runtime","label":"Step 3: Create a Runtime","html_id":"step-3-create-a-runtime","implicit":true,"key":"KAZpf4Awz7"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Now, we can create a runtime using the runtime template that was just created.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"wUOLlLBE4V"}],"key":"Gy6aZpygHP"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":129,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"iG6J1dOAVo"},{"type":"strong","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Runtimes","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"kcJIlYwOvE"}],"key":"KtJuWNNM6Y"}],"key":"iXheWkzA0i"}],"key":"qwqihY9fKd"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"o1Ap6agN9m"},{"type":"strong","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Create new runtime","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"RYSwtBhVwB"}],"key":"J7hjTYoRe8"}],"key":"jKmtQNGuQk"}],"key":"DFKL39lJfR"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the template you just created i.e. ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"pVNpCSZIWb"},{"type":"inlineCode","value":"nvidia-l4-gpu-template","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"PFInRbTX1N"},{"type":"text","value":", under the ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"gXiSfeiXse"},{"type":"strong","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"Runtime template","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"uhRT9QoozJ"}],"key":"WnrAhjIEyC"},{"type":"text","value":" input","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"gvVWhbQljT"}],"key":"uXnBNuNTfc"}],"key":"r2ZTjMs6Nm"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a name for your runtime in the ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"UeRZRhs4hu"},{"type":"strong","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Runtime name","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"rNuWUkbGAk"}],"key":"XZ8siRAv3t"},{"type":"text","value":" input","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"mRqafLlb9h"}],"key":"JaavKcaXGX"}],"key":"q2CNs62lRO"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"mxzky4eWo7"},{"type":"strong","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"TAdd0wuzxw"}],"key":"KIY47vCpOo"},{"type":"text","value":" and wait for it to provision. This takes a few seconds.","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"Q9oRwt4Wl6"}],"key":"kg9ks60BQy"}],"key":"PoQp8Ew6qE"}],"key":"sYeAuj9yJQ"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-create-v-3c8d9b81df57de6d79fd892b440e8324.png","alt":"Colab Enterprise page","align":"center","key":"eAYv4P32Hr","urlSource":"./images/gcp-console-create-vertexai-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Screenshot: Create a new runtime using the created runtime template","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"RLvAGHGb4s"}],"key":"ZknX3m31Ma"}],"key":"YOhqfxOm8T"}],"enumerator":"7","key":"fGGieDXG24"},{"type":"heading","depth":2,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Step 4: Create a Notebook and Connect to the Runtime","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"XJ5gsQTL5Y"}],"identifier":"step-4-create-a-notebook-and-connect-to-the-runtime","label":"Step 4: Create a Notebook and Connect to the Runtime","html_id":"step-4-create-a-notebook-and-connect-to-the-runtime","implicit":true,"key":"dpN3H9y1YT"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Now, we can create a Vertex AI notebook using the newly created runtime.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"H2pHQk7jSR"}],"key":"IV7JrSjJUB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":146,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"On the Colab Enterprise main page, click the ","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"QdTCBQyEph"},{"type":"strong","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Create notebook","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"j9UcZONj53"}],"key":"iRXndHVLKT"},{"type":"text","value":" button in Quick actions section","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"WRg8ZVswnP"}],"key":"c60m6sOoRx"}],"key":"ASyoWAlneO"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Once the notebook opens, click the ","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"DGvxZ1qcHv"},{"type":"strong","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Connect","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"BNSTsbdgrh"}],"key":"dtqfQrmmfh"},{"type":"text","value":" dropdown in the top right","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"mYCBltxmzl"}],"key":"T44tpYjFIv"}],"key":"kXbyh04YpU"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"vYvCslGXq4"},{"type":"strong","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Connect to a runtime","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"sMXdHFmSIt"}],"key":"XwmsmbvRXZ"}],"key":"ej0AQ0SIZ3"}],"key":"lmjbazi7R4"},{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"Z2kzjFCaFe"},{"type":"strong","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"Connect to Vertex AI runtime","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"DQ3uS4vJAl"}],"key":"IfIH8YvYSa"},{"type":"text","value":" dialog:","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"I5FbmVXZ2f"}],"key":"EP0JW87k9f"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":150,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"oe1bLMnlCq"},{"type":"strong","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Connect to an existing runtime","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"DfPTc4sCtb"}],"key":"vlVJayfv3e"},{"type":"text","value":" option","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"pzz2tl03Mb"}],"key":"tre67OxRMR"}],"key":"EzouTqttym"},{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the runtime you just created under the ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"SVbY4y2ztU"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"Select an existing runtime","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"PssJ7WnyAo"}],"key":"c5ck4t0rhV"},{"type":"text","value":" input","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"xpCcYyxotg"}],"key":"UUEF3SkAtb"}],"key":"ddCASdERM5"}],"key":"jWXvFoUqym"}],"key":"tPmAdc32ZN"},{"type":"listItem","spread":true,"position":{"start":{"line":152,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally, click ","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"VgVgjizyLI"},{"type":"strong","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"ng3wRqNmzW"}],"key":"pnrkPNlSa8"},{"type":"text","value":" to connect to the runtime.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"aA4xppNiwA"}],"key":"oFlXXIt8Ja"}],"key":"MO7kiP8OPi"}],"key":"RBGrzI905Y"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-colab-en-a89405339ee16ba271759b77e509f9ab.png","alt":"Create a new notebook ","align":"center","key":"dYnBb7hQnC","urlSource":"./images/gcp-console-colab-enterprise-page-create-notebook.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"Screenshot: Create Colab Enterprise notebook","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"BEaENK2wGx"}],"key":"erR9oOGKTo"}],"key":"SmnArF2YTJ"}],"enumerator":"8","key":"SROk66Zzod"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-3a63760893420cf692c2afac5422c666.png","alt":"Connect to a runtime dropdown","align":"center","key":"GZ07E6c4pg","urlSource":"./images/gcp-console-vertex-notebook-connect-to-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"Screenshot: Connect to a runtime dropdown","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"GCWsPB7ezw"}],"key":"tIsljGlc72"}],"key":"YJolY8lrRs"}],"enumerator":"9","key":"GdtnlaUr6p"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-371f2e2b473109e7b4dc668e2ae56e15.png","alt":"Connect to a runtime dialog","align":"center","key":"HjJJ8BtxpW","urlSource":"./images/gcp-console-vertex-notebook-connect-to-runtime-dialog.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Screenshot: Connect to a runtime dialog","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"Z2NT829pKS"}],"key":"Lx6T9Shc1m"}],"key":"QnEVUKZaga"}],"enumerator":"10","key":"VguqXBWNoD"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"Once connected, the runtime immediately becomes active and you can start using notebook.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"fVjupfPPR3"}],"key":"X4D15pDCwZ"},{"type":"heading","depth":2,"position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Step 5: Using the Notebook","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"aP4CevBPe7"}],"identifier":"step-5-using-the-notebook","label":"Step 5: Using the Notebook","html_id":"step-5-using-the-notebook","implicit":true,"key":"bCitLd93qu"},{"type":"paragraph","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"In this section, we will use the notebook to fine-tune the Gemma 3 1B model.","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"BCrDbWHRTW"}],"key":"IycqEcfxuV"},{"type":"paragraph","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Verify the GPU is Available","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"aRpUTPcQKP"}],"key":"J3gcMFC2uZ"}],"key":"O6P2s3YmNe"},{"type":"paragraph","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"To verify the GPU is available:","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"TW9LDvo2Tk"}],"key":"e3zIg4AYvY"},{"type":"code","lang":"bash","value":"%%bash\nnvidia-smi","key":"lWt5GHBjp2"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-16afecf02d5053c870d4a100e957e9c7.png","alt":"Testing `nvidia-smi` command in Vertex notebook","align":"center","key":"BFyPuCmTCr","urlSource":"./images/gcp-console-vertex-notebook-nvidia-smi.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"Screenshot: Testing ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"JPqXzq7fEA"},{"type":"inlineCode","value":"nvidia-smi","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"RnGKmiZRKR"},{"type":"text","value":" command in Vertex notebook","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"yTGP74LykD"}],"key":"s91gmVkR6c"}],"key":"DJZNnVrgsq"}],"enumerator":"11","key":"bkVs0eMIe4"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"strong","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"Set Up the Python Environment","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"gY1H2h9A6A"}],"key":"grxO6CNi5h"}],"key":"tkV6VkTNY3"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"In the next cell, install ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"MkoxkAjxPQ"},{"type":"inlineCode","value":"uv","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"P30UIpX1yB"},{"type":"text","value":" and clone the repository:","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"HqauZOeB7H"}],"key":"hbdt3Iswot"},{"type":"code","lang":"bash","value":"%%bash\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nsource $HOME/.local/bin/env\ngit clone https://github.com/rexsimiloluwah/finetuning-gemma-1b-aims-gcp-tutorial.git\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv sync","key":"qAt5OS7KCp"},{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"strong","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Run Training","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"H9eSGoPaQi"}],"key":"zCNpFXJznv"}],"key":"zWoZoM0jnX"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"In the next cell, run the fine-tuning script:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"G1OwkTqqJZ"}],"key":"oCaKcgdpnq"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_train data.source=gcs data.max_train_samples=10000 training.num_epochs=2 training.batch_size=8 experiment_id=exp_lora_r8_colab","key":"tM0l3EqTdW"},{"type":"paragraph","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Training takes roughly 20-30 minutes on the L4. You can monitor progress in real time from your WandB dashboard at ","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"tzfwLdd47j"},{"type":"link","url":"http://wandb.ai","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"wandb.ai","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"RKRh0b6yNm"}],"urlSource":"http://wandb.ai","key":"NvdABwyR5J"},{"type":"text","value":" while the cell is running.","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"vzPLx0p9BH"}],"key":"NTAwLVP0fH"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-2386e9c6c0dd3d096bcf1c4526bcaa09.png","alt":"Run the training script","align":"center","key":"NJBEEpMcBc","urlSource":"./images/gcp-console-vertex-notebook-train-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the training script in the Vertex notebook. Here, it was trained for only 1 epoch using 500 samples for demonstration purposes. Do not expect any good results during evaluation.","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"xONsF04eKW"}],"key":"eLoWMxfTly"}],"key":"izS3zGwr32"}],"enumerator":"12","key":"VbcdgSQGhZ"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"A7jWUu1nTN"}],"key":"KEM0c0AtPn"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Unlike the VM-based session, you do not need tmux here. The notebook cell keeps running even if you close your browser tab, as long as the runtime stays active. You can come back later and see the output when it completes.","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"rz6d8vpS0N"}],"key":"HUJvJrQPdl"}],"key":"IWf5jl5Oc3"},{"type":"paragraph","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"strong","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"Run Evaluation","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"alqpAmXNZB"}],"key":"FVjJNs9mfa"}],"key":"SvWQU30H7R"},{"type":"paragraph","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"text","value":"Once training finishes, run evaluation in the next cell:","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"D7oVcyvbCU"}],"key":"sDMgo27Qlc"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_evaluate \\\n    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \\\n    --eval_file data/eval/eval_prompts.jsonl \\\n    --max_eval_samples 200","key":"upgCZQ2Ncm"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-002cef6be53f131a92d84576c0e4719f.png","alt":"Run the evaluation script","align":"center","key":"RqGaXH1IAy","urlSource":"./images/gcp-console-vertex-notebook-evaluate-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the evaluation script.","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"PcaxiWyWhL"}],"key":"ZzAVq1V2Pw"}],"key":"xyMfh8dRRS"}],"enumerator":"13","key":"sFpEuxAL57"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"children":[{"type":"text","value":"This computes perplexity and repetition rate on 200 eval examples and logs the results to WandB.","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"AeLEZatoLR"}],"key":"xYJ15cxuQj"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"oKtI69x3hT"}],"key":"c9Mqdgp0H1"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Do not worry about the evaluation results. The goal of this session is to walk through the complete workflow, not to produce a state-of-the-art model.","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"KqRQRHOmRm"}],"key":"DoaI1StWMv"}],"key":"LYjbZVfB1G"},{"type":"paragraph","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"strong","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"text","value":"Run Inference","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"iM3UBRkYQh"}],"key":"amKPuppIZd"}],"key":"M5j7L2XgEv"},{"type":"paragraph","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"children":[{"type":"text","value":"Test the trained model on a single instruction in the next cell:","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"lpbJAQCjYx"}],"key":"lkbo9HJTwf"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_inference \\\n    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \\\n    --instruction \"Explain what machine learning is in simple terms\"","key":"T6jnPp56OF"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-vertex-n-1a896613c7d6ad24ad56d97feed9a2f1.png","alt":"Run the inference script","align":"center","key":"W60hq0yazl","urlSource":"./images/gcp-console-vertex-notebook-inference-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the inference script.","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"tdk7TXoluz"}],"key":"VWVzfIKb88"}],"key":"bJgXH63vni"}],"enumerator":"14","key":"wVx5Kk6KGE"},{"type":"heading","depth":2,"position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"text","value":"Step 6: Resource Cleanup","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"TFdivLFhQQ"}],"identifier":"step-6-resource-cleanup","label":"Step 6: Resource Cleanup","html_id":"step-6-resource-cleanup","implicit":true,"key":"l96XIpKV0q"},{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Danger","key":"f3YH9Y59EQ"}],"key":"H2gdCia0E1"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"Colab Enterprise runtimes are billed by the hour even when idle. Always delete the runtime when you are done to avoid unexpected charges.","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"mX3Tzn5MyE"}],"key":"jwkmZUxxLX"}],"key":"LHefHupZ7q"},{"type":"paragraph","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"children":[{"type":"text","value":"Delete the runtime from the GCP Console:","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"ygrLl5H512"}],"key":"KZp7V9TZ6x"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":289,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"VuRoDPnyxZ"},{"type":"strong","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"text","value":"Runtimes","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"xOF9Ap26Sc"}],"key":"FSooJx7GL6"}],"key":"zQ2sH3dYvm"}],"key":"pAxMpEI15x"},{"type":"listItem","spread":true,"position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Find your runtime in the list","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"z9Bb2Eqasv"}],"key":"q7lfguzNNZ"}],"key":"QbbkrtOqSs"},{"type":"listItem","spread":true,"position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the three dots menu next to it","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"Q81Iwgo4wH"}],"key":"aZ0dKle22W"}],"key":"GxQK6CFxDm"},{"type":"listItem","spread":true,"position":{"start":{"line":292,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"E5zVn1XZap"},{"type":"strong","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"Delete","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"naPnfVwrf2"}],"key":"EjUEPvABmI"}],"key":"tmvtz1tyV1"}],"key":"HCxJmGQNBc"}],"key":"kfPIDttvlG"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"vjFAPoDZyj"}],"key":"saggmH0iLU"},{"type":"paragraph","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"You can alternatively click ","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"eu1kiaknWW"},{"type":"strong","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Stop","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"V2KQbgncut"}],"key":"bhMY2P2ajZ"},{"type":"text","value":" if you want to retain your data/environment for later use.","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"qjbM0Bxmb1"}],"key":"wpsEaJeK59"}],"key":"nBogLQDhxq"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/gcp-tutorial-aims/build/gcp-console-delete-v-e76bff1a8b1b19f50ea4cfa9e60f332e.png","alt":"Delete the vertex AI runtime","align":"center","key":"h6rNDUktnz","urlSource":"./images/gcp-console-delete-vertexai-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"text","value":"Screenshot: Delete the Vertex AI runtime.","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"LfVQLNLOW9"}],"key":"RlP899yruJ"}],"key":"ljSxbAYBew"}],"enumerator":"15","key":"VHJQamTvAp"},{"type":"thematicBreak","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"key":"Zjqyc0CqK4"},{"type":"heading","depth":2,"position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"text","value":"🔑 Key Takeaways","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"key":"xIFIoneLR5"}],"identifier":"id-key-takeaways","label":"🔑 Key Takeaways","html_id":"id-key-takeaways","implicit":true,"key":"NiImaws9xu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":308,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Colab Enterprise gives you an interactive GPU notebook environment with no infrastructure to manage, accessible directly from your browser","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"i4hukd7KwY"}],"key":"nb6tO2yyXi"}],"key":"wRTbXrKRlS"},{"type":"listItem","spread":true,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Creating a runtime template first and reusing it across notebooks saves time and ensures a consistent hardware configuration across sessions","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"YGapbeo1jS"}],"key":"PZNV6m8Q1R"}],"key":"jUJiEPWfZG"},{"type":"listItem","spread":true,"position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Adding environment variables to the runtime template means credentials are automatically available in every notebook that connects to it, without hardcoding them in notebook cells","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"npSRMokbI0"}],"key":"cDk3qL237n"}],"key":"XqVKPfIQCU"},{"type":"listItem","spread":true,"position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Unlike the VM-based approach, you do not need ","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"vXeTkUBkWN"},{"type":"inlineCode","value":"tmux","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"JnYb8nfDvI"},{"type":"text","value":" since notebook cells keep running even if you close your browser, as long as the runtime stays active","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"QtkNGsGP7F"}],"key":"Av03tvmag6"}],"key":"oRRpshewxH"},{"type":"listItem","spread":true,"position":{"start":{"line":312,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For long training runs, a Custom Training Job is more reliable since it runs entirely unattended. Colab Enterprise is better suited for interactive experimentation and debugging.","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"ChdnJywKFe"}],"key":"nxbzzeUzKt"}],"key":"Z3zI86E2BE"}],"key":"HYmheiwDCe"}],"key":"YRvq1BzF7r"}],"key":"uN71kiIJBS"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Hands-On 01: Vertex AI Custom Training Jobs","url":"/part3-vertex-ai/hands-on-vertex-ai-custom-training-job","group":"Part 3 - Vertex AI"},"next":{"title":"Introduction","url":"/part4-cost-management","group":"Part 4 - Cost Management"}}},"domain":"http://localhost:3000"},"project":{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"title":"AIMS GCP Tutorial","description":"A no-fluff guide to using GCP for ML experiments and research","authors":[{"id":"AIMS TtT Team","name":"AIMS TtT Team"}],"github":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial","keywords":["GCP","AI","GPU","Machine Learning","Research","Experiments","MLOps"],"id":"7eddb7b1-9986-44d1-8417-fe2b2bb4b498","toc":[{"file":"index.md"},{"children":[{"file":"part1-gcp-foundations/index.md"},{"file":"part1-gcp-foundations/01-understanding-gcp.md"},{"file":"part1-gcp-foundations/02-gcp-console.md"},{"file":"part1-gcp-foundations/03-the-gcloud-cli.md"},{"file":"part1-gcp-foundations/04-hands-on-gcp-console.md"},{"file":"part1-gcp-foundations/05-hands-on-gcloud-cli.md"}],"title":"Part 1 - GCP Foundations"},{"children":[{"file":"part2-running-experiments-on-gcp-vms/index.md"},{"file":"part2-running-experiments-on-gcp-vms/01-hands-on-running-ai-experiments-on-gcp-vms.md"}],"title":"Part 2 - Running Experiments On GCP VMs"},{"children":[{"file":"part3-vertex-ai/index.md"},{"file":"part3-vertex-ai/01-hands-on-vertex-ai-custom-training-job.md"},{"file":"part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md"}],"title":"Part 3 - Vertex AI"},{"children":[{"file":"part4-cost-management/index.md"},{"file":"part4-cost-management/01-hands-on-cost-management.md"}],"title":"Part 4 - Cost Management"},{"children":[{"file":"appendix/01-gpu-maths.md"},{"file":"append"}],"title":"Appendix"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Part 1 - GCP Foundations"},{"slug":"part1-gcp-foundations.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.understanding-gcp","title":"GCP Core Concepts","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.gcp-console","title":"The GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-overview-b0c76d6554a04bc160a0262ab8e24177.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.the-gcloud-cli","title":"The Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcp-console","title":"Hands-On 01: Create a VM via GCP Console","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on1-gcp-consol-7927d1237c10d55c080654e7081a4cf4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part1-gcp-foundations.hands-on-gcloud-cli","title":"Hands-On 02: Automation with the Google Cloud CLI (gcloud)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/hands-on2-gcloud-vm--349f591393c1e589572c86fc8b2ed71c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 2 - Running Experiments On GCP VMs"},{"slug":"part2-running-experiments-on-gcp-vms.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part2-running-experiments-on-gcp-vms.hands-on-running-ai-experiments-on-gcp-vms","title":"Hands-On 01: Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/create_new_project_w-f36fb58a1839272a50ffb7d49ec6f322.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 3 - Vertex AI"},{"slug":"part3-vertex-ai.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-custom-training-job","title":"Hands-On 01: Vertex AI Custom Training Jobs","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcloud-submit-vertex-c4c097f7ccbbe4c52c6176dc1151d1ee.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part3-vertex-ai.hands-on-vertex-ai-notebook-colab-enterprise","title":"Hands-On 02: Vertex AI Notebooks (Colab Enterprise)","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-colab-en-d50dc41f0a86af752919671c3fcf28d0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Part 4 - Cost Management"},{"slug":"part4-cost-management.index","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"part4-cost-management.hands-on-cost-management","title":"Hands-On: Setting Up Billing Alerts and Budgets","description":"","date":"","thumbnail":"/gcp-tutorial-aims/build/gcp-console-create-b-48e0e878886a7565065f28ac75dfdb50.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Appendix"},{"slug":"appendix.gpu-maths","title":"Appendix A: GPU Maths - Choosing the Right GPU for Your Experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/gcp-tutorial-aims/build/manifest-54BD5942.js";
import * as route0 from "/gcp-tutorial-aims/build/root-PMP5BIHC.js";
import * as route1 from "/gcp-tutorial-aims/build/routes/$-5ZLZ2O3Y.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/gcp-tutorial-aims/build/entry.client-PCJPW7TK.js");</script></body></html>