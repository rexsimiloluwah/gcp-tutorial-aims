{"version":3,"kind":"Article","sha256":"d3b78f5320ec3d2f44985290775f7b376236433ca1d4742e1b1f301058894827","slug":"part3-vertex-ai.hands-on-vertex-ai-notebook-colab-enterprise","location":"/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","dependencies":[],"frontmatter":{"title":"Hands-On 02: Vertex AI Notebooks (Colab Enterprise)","content_includes_title":false,"authors":[{"id":"AIMS TtT Team","name":"AIMS TtT Team"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial","keywords":["GCP","AI","GPU","Machine Learning","Research","Experiments","MLOps"],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial/blob/main/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","edit_url":"https://github.com/rexsimiloluwa/aims-ai-gcp-tutorial/edit/main/part3-vertex-ai/02-hands-on-vertex-ai-notebook-colab-enterprise.md","thumbnail":"/build/gcp-console-colab-en-0062ea672346b3703acfe12661937ec6.png","exports":[{"format":"md","filename":"02-hands-on-vertex-ai-notebook-colab-enterprise.md","url":"/build/02-hands-on-vertex-a-906d6ad5c978c208166c4fdf180d695c.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TAphKUkflI"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"dCo05gK7PU"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this hands on session, we will run the same Gemma 1B fine-tuning experiment using ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GyrQrQ95h6"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Colab Enterprise","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fvA2a6E7vD"}],"key":"OeM87DFAV6"},{"type":"text","value":", Vertex AIâ€™s managed notebook environment. Unlike the Custom Training Job approach where you submit a job specification and wait, Colab Enterprise gives you an interactive Jupyter notebook (similar to Google Colab) that runs directly in your browser with no SSH or infrastructure setup required.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UJ4ThT0imk"}],"key":"sLaUDnJLnM"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"VRAfVVjohm"}],"key":"vUnzv45Ihd"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"This hands-on tutorial uses the same Gemma 1B fine-tuning experiment from the previous chapter. If you want to understand the experiment in detail, refer back to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zOHvtGQmcE"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"/part2-running-experiments-on-gcp-vms/hands-on-running-ai-experiments-on-gcp-vms","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Fine-tuning a Small Language Model (Gemma 3 1B) on a GCP VM","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kDKiMEXPPk"}],"urlSource":"../part2-running-experiments-on-gcp-vms/01-hands-on-running-ai-experiments-on-gcp-vms.md","dataUrl":"/part2-running-experiments-on-gcp-vms.hands-on-running-ai-experiments-on-gcp-vms.json","internal":true,"protocol":"file","key":"gNNfRHEXz5"}],"key":"hlxhaLhXyT"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kD7V2mWtLe"}],"key":"sZJTyIBwAU"}],"key":"Px8Eeal6mi"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jKq06Xwbe7"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"cxX9BlczZe"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"By the end of this session, you will be able to:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"uTM7afvTYR"}],"key":"TKa4mYH7fL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a runtime template with a GPU configuration in Colab Enterprise","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qifRbROg8X"}],"key":"qRkGc4klSt"}],"key":"foBRRI6ytA"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create and connect a runtime to a notebook","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"GDX4cmjLSb"}],"key":"ConOhK2IgD"}],"key":"mXJCRtm0j0"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run the fine-tuning experiment interactively in a notebook","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"NGKpQ47J2b"}],"key":"K8OEmiqa8L"}],"key":"PS4OD9wdpd"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Clean up all resources after the session.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"N1oSWs3FXL"}],"key":"kVbDIzvXs5"}],"key":"tdVzh8rgTV"}],"key":"Y3iKp1lKrs"},{"type":"heading","depth":2,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"lO5qJUWVL4"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"KfrQ5vRr6t"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A WandB account and API key","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"HOfMhyxsJL"}],"key":"bU0vbAubf6"}],"key":"NM29ZLdA9q"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A HuggingFace account and API token with the Gemma 3 1B model license agreement accepted.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"JxcFTx53a5"}],"key":"tHwQdbwsF9"}],"key":"NWBWBBILTm"}],"key":"wT7hjYC6Zp"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"H2BdKGEK40"}],"key":"ctKu3PEaUA"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"To follow this tutorial, you need a GCP project with the Vertex AI API enabled. Kindly navigate to the ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"EPPUifHkw8"},{"type":"strong","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"APIs and services","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"RAyyK3Eosf"}],"key":"tF8giujZkk"},{"type":"text","value":" page to enable the API for Vertex AI, if it is not already enabled.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"iTHWk8rKxJ"}],"key":"a3HrJEcqFn"}],"key":"dbnXOoyrZY"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"PhqK5f3zcg"},{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Step 1: Open Colab Enterprise","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"cQhu8oojYR"}],"identifier":"step-1-open-colab-enterprise","label":"Step 1: Open Colab Enterprise","html_id":"step-1-open-colab-enterprise","implicit":true,"key":"tYHiwnSBrh"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Go to your ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"KUltMzY1hm"},{"type":"link","url":"https://console.cloud.google.com","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"GCP Console","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"q06ION7zQH"}],"urlSource":"https://console.cloud.google.com","key":"lJ2iYShYcP"}],"key":"ptPLnAB948"}],"key":"mfGF4NzY3P"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, navigate to ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"i2IyS3BItT"},{"type":"strong","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Vertex AI","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"lDIADIbZMK"}],"key":"zw1WLSOtQp"}],"key":"kppHVYd9dh"}],"key":"n5DXQTuedl"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"cvyfcadmDc"},{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Notebooks","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"wCh5fw83sc"}],"key":"uqMouXI7Dc"},{"type":"text","value":" section, click ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"A0JLFnHDiS"},{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Colab Enterprise","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"G4JmZhdmqP"}],"key":"G9cp9g6mQG"},{"type":"text","value":".","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"VjracH4WHO"}],"key":"iR8AXyWJFy"}],"key":"sUIe7Ffdpt"}],"key":"DThMjDlKl1"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-colab-en-0062ea672346b3703acfe12661937ec6.png","alt":"Colab Enterprise page","align":"center","urlSource":"./images/gcp-console-colab-enterprise-page.png.png","key":"KPPS1NLf4v"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Screenshot of the Colab enterprise page in Vertex AI","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"SGPxBdcgCz"}],"key":"YKnEMJX5Kt"}],"key":"qjC21ktQao"}],"enumerator":"1","key":"XY7zkEqNJr"},{"type":"heading","depth":2,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"Step 2: Create a Runtime Template","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"mbaNpyLmEX"}],"identifier":"step-2-create-a-runtime-template","label":"Step 2: Create a Runtime Template","html_id":"step-2-create-a-runtime-template","implicit":true,"key":"njVbUnJ9QW"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"A runtime template defines the hardware configuration that your notebook will run on. We create it once and can reuse it across multiple notebooks.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"uZ7tsLZ3md"}],"key":"qrFXBwRFMx"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"OS4VTxpgIO"},{"type":"strong","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Runtime templates","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"unM8181BXn"}],"key":"nkPo9zQgHS"},{"type":"text","value":", then click ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"vvJXzra4nC"},{"type":"strong","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Create a new runtime template.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"jX8ZmieVy2"}],"key":"PA9tDON7s3"}],"key":"EZGkwJAjIO"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-colab-en-a588d8526f8da909e599de5205a49db4.png","alt":"Colab Enterprise page","align":"center","key":"EXpjGE11qt","urlSource":"./images/gcp-console-colab-enterprise-page-create-runtime-template.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"Screenshot: Create a new runtime template","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"ov4Nk8dSuu"}],"key":"GR53fkZJgu"}],"key":"KqCjF67gf8"}],"enumerator":"2","key":"bjcOBYw6bO"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"The runtime template creation has four sections.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"Bl7CZQWX3z"}],"key":"E80KWD0cDJ"},{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"strong","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Runtime basics","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"IWgroteOlX"}],"key":"wJHhNIJd5g"}],"key":"KBzCkhKRON"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":61,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a name for the template, for example ","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"moc7fujFbZ"},{"type":"inlineCode","value":"nvidia-l4-gpu-template","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"upQIMEAwMG"}],"key":"MwXqLa9Ghi"}],"key":"GMrRGvU6zg"},{"type":"listItem","spread":true,"position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the region for the runtime template, for example ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"fbBNJNH3bG"},{"type":"inlineCode","value":"europe-west4","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"w2GWXzTtq3"}],"key":"vM7sRcB7x9"}],"key":"w3EdEwATHv"}],"key":"u56bkIKPVN"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-732be47ac2eb2864ef500a08cc7b6b1e.png","alt":"Runtime basics","align":"center","key":"R6lzNWuIJX","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-basics.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"Screenshot: Runtime basics (edit display name and select region)","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"QA0WIGXACj"}],"key":"cABuVYKRJJ"}],"key":"XSbwzcePHO"}],"enumerator":"3","key":"IhUNCiWOEj"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"strong","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Configure compute","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"o7VOdc5apx"}],"key":"N6aeUYEZcP"}],"key":"MXYBU2zJr4"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"This is where we configure the compute associated with the runtime template.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"MweZsTMkSU"}],"key":"nGndOdkibR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":75,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"vPgLJD1OoI"},{"type":"strong","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Machine Type","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"WymbhDz1zj"}],"key":"AAJPjoeXN3"},{"type":"text","value":", select ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"jzxHEHzXM7"},{"type":"inlineCode","value":"g2-standard-4","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"vJeouKnKaQ"}],"key":"SPTRsCALDM"}],"key":"r9JrXyQ6pL"},{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"YUf9zMUMRC"},{"type":"strong","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"Accelerator type","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"O1hGt2ZxdA"}],"key":"oi9SLbJFwV"},{"type":"text","value":", select ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"BgPeewXR3o"},{"type":"inlineCode","value":"NVIDIA_L4","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"YdVZSWwnG9"},{"type":"text","value":" and set Accelerator count to ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"i9XxJysPhm"},{"type":"inlineCode","value":"1","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"kNZz8k3hMz"}],"key":"ttCskRGnsd"}],"key":"u6ldTow4DV"}],"key":"l1oQLuemL3"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-2a141fa15fe9053a568b73e5261e7b15.png","alt":"Configure runtime template machine configuration","align":"center","key":"qEkz8dE2lt","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-configure-compute.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"Screenshot: Configure machine configuration for the runtime template","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"nJ16wVdp8G"}],"key":"cjlUtUQsu5"}],"key":"sjqsg78kcg"}],"enumerator":"4","key":"ZDrs8BVL0l"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"strong","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"Configure Python Environment","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"yLbsQpPbj1"}],"key":"bHMHtA6RaU"}],"key":"OOSQQlDzar"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":87,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the Python environment under the ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"m7NXbImd6S"},{"type":"strong","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Environment","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"uTa7cD5s0P"}],"key":"ZBfD6bmeus"},{"type":"text","value":" input (you can use Python 3.12)","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"YkzjD7JNLF"}],"key":"pQhiiOpNzR"}],"key":"RywImaXWJX"},{"type":"listItem","spread":true,"position":{"start":{"line":88,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"q9uq4g47L9"},{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"Environment variables","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"LHPAkYHU9i"}],"key":"VK3wP7YWGE"},{"type":"text","value":", add your environment variables:","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"UGAbxOQS6n"}],"key":"q4aCd2Hae3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"HF_TOKEN","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"DYbsakmPHx"},{"type":"text","value":" = Your HuggingFace API token","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"ozCIGSbIYY"}],"key":"CT0Kz7g8rb"}],"key":"VuCAQyhfVW"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"WANDB_API_KEY","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"gVElppkeqf"},{"type":"text","value":" = Your WandB API key","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"cL8S6KKJHU"}],"key":"XQDRkupzdR"}],"key":"OAy2LzOzgO"},{"type":"listItem","spread":true,"position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"WANDB_PROJECT","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"V5a6OX0KeK"},{"type":"text","value":" = Your WandB project name","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"jYdSj0Ph5F"}],"key":"Pi7cHbz2Yz"}],"key":"psrU7A6MJ9"},{"type":"listItem","spread":true,"position":{"start":{"line":92,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"BUCKET_NAME","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"AF1eU9sytL"},{"type":"text","value":" = Your GCS bucket name","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"i26kbXSqRs"}],"key":"bKrL1pOgfH"}],"key":"BNxuoMvbgK"}],"key":"kfEFnqdcLt"}],"key":"mXuDl91SSc"}],"key":"krokLTf15U"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-68708e2f9cf3c7004d4a3956054636b7.png","alt":"Configure runtime template Python environment","align":"center","key":"qshhtLRAJg","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-environment.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Screenshot: Configure Python environment for runtime template with environment variables filled in","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"PIKpvbqjmy"}],"key":"HbbUcYA1dj"}],"key":"t3GflnRHlQ"}],"enumerator":"5","key":"IxrhVyyLkd"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"BAG6UzpLZS"}],"key":"mODY2ZARdq"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Adding environment variables here means they are automatically available in every notebook that connects to this runtime. You do not need to set them manually in your notebook cells.","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"d2qeIknkQO"}],"key":"YpwFEdqZLy"}],"key":"LYB1Mk971q"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"c4pssuCY0c"}],"key":"rOXtVgxBP1"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Do not share your runtime template with others as it contains your API keys. Keep it private to your GCP project.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"abUpOX7wUQ"}],"key":"xmgrzk08mA"}],"key":"o9rudUldfN"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"strong","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Networking and security","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"BUMUp0AzB3"}],"key":"crzYZ2dM3M"}],"key":"MoaJqHoAqW"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"This is where we choose the networking configuration.","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"XhnUgT3fBk"}],"key":"nkCoiFd8Cf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ZvfjMRqcNk"},{"type":"strong","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Network","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"As0hEY7AOs"}],"key":"OWxd140BZ1"},{"type":"text","value":" input, select the VPC you created earlier (","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"AZ3rJmaaV5"},{"type":"inlineCode","value":"similoluwa-vpc","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"i2dYcI55oY"},{"type":"text","value":") or create a new VPC.","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"RQcuKFZTes"}],"key":"JrcjHNWXEz"}],"key":"wjl6W0tbh7"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the same VPC under the ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"PzrW3LxOwc"},{"type":"strong","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Subnetwork","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"d1jk51bETb"}],"key":"Cwlxskk5aX"},{"type":"text","value":" input.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"UnkhMnSvAr"}],"key":"lQWP7sjrkl"}],"key":"aQemPuTPEE"}],"key":"aZKN7iWV03"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-4c86d86cefe232eab30415debf6f5fbe.png","alt":"Colab Enterprise page","align":"center","key":"rU8CGbjio0","urlSource":"./images/gcp-console-vertex-notebook-create-runtime-template-networking.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Screenshot: Networking and security section with VPC selected","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"tfu6QoGEZn"}],"key":"cT1AIJBrDr"}],"key":"JaiRMF2nYj"}],"enumerator":"6","key":"pcvEYVAoO0"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Finally, click the ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"BLGs6VDixK"},{"type":"strong","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"YioaEYnD20"}],"key":"umiNuDj0ij"},{"type":"text","value":" button to create the runtime template.","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"R8mM3kGjTQ"}],"key":"ywNfoF78zh"},{"type":"heading","depth":2,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Step 3: Create a Runtime","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"ELM4hO35wy"}],"identifier":"step-3-create-a-runtime","label":"Step 3: Create a Runtime","html_id":"step-3-create-a-runtime","implicit":true,"key":"ZTLOufZBjs"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Now, we can create a runtime using the runtime template that was just created.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"u6YtfhA65E"}],"key":"gpKCtPSwVj"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":129,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"HQFsdZfDs3"},{"type":"strong","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Runtimes","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"VrfzE4TqMP"}],"key":"nxzXxO1Gh5"}],"key":"wzOfXIycOh"}],"key":"Fuq6ZSnjYQ"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"HdYjXefgp5"},{"type":"strong","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Create new runtime","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"Kb0cBkZvu5"}],"key":"mOqsSUGaVW"}],"key":"ubrZ2UXuYf"}],"key":"eeY0ONCJmN"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the template you just created i.e. ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"X0NkShZuBG"},{"type":"inlineCode","value":"nvidia-l4-gpu-template","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"r040ZKBeb4"},{"type":"text","value":", under the ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"kblq59R4Q0"},{"type":"strong","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"Runtime template","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"cthgfIy5yn"}],"key":"ZERQoXhA1c"},{"type":"text","value":" input","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"NV5EJVTPGH"}],"key":"QL6LNP1lfZ"}],"key":"P5DH98YfGW"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a name for your runtime in the ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"YmDur5hmqe"},{"type":"strong","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Runtime name","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"pP7gaByufu"}],"key":"pvt8JJoncl"},{"type":"text","value":" input","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"r1vIi4kGGh"}],"key":"oyNLZt6vpn"}],"key":"HbWHJOW4a8"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"GQoVOHftic"},{"type":"strong","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"m6DEA3YBbH"}],"key":"MKl1Q5B6sW"},{"type":"text","value":" and wait for it to provision. This takes a few seconds.","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"Rbv1AYto44"}],"key":"FbWu8pddWM"}],"key":"Qp9pnycW4d"}],"key":"UfBMNzkV7M"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-create-v-26e0cc05943501ef568b6b64b267e712.png","alt":"Colab Enterprise page","align":"center","key":"C8zT0CaGBD","urlSource":"./images/gcp-console-create-vertexai-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Screenshot: Create a new runtime using the created runtime template","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"Mf20nAaIYf"}],"key":"doh5kp4mQm"}],"key":"h2ri5kzw4E"}],"enumerator":"7","key":"p6ZUyk613P"},{"type":"heading","depth":2,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Step 4: Create a Notebook and Connect to the Runtime","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"SyuGKQMzfm"}],"identifier":"step-4-create-a-notebook-and-connect-to-the-runtime","label":"Step 4: Create a Notebook and Connect to the Runtime","html_id":"step-4-create-a-notebook-and-connect-to-the-runtime","implicit":true,"key":"tuKb7qOlnX"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Now, we can create a Vertex AI notebook using the newly created runtime.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"MNhJGDO41O"}],"key":"viGjGVF4mU"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":146,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"On the Colab Enterprise main page, click the ","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"Wf5LkrkhLI"},{"type":"strong","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Create notebook","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"tQk6c4wFRT"}],"key":"SkMKFh0ny4"},{"type":"text","value":" button in Quick actions section","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"tMUlfkEBpg"}],"key":"gy0WPAuLTm"}],"key":"LKqALteYPb"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Once the notebook opens, click the ","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"j3RHXAoeRK"},{"type":"strong","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Connect","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"cTMEd59JAb"}],"key":"DIEOGiv3YC"},{"type":"text","value":" dropdown in the top right","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"PdWDlp0lr0"}],"key":"QdQT3ILTNu"}],"key":"h4P7jTvU9B"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"X79pwlMmjs"},{"type":"strong","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Connect to a runtime","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"E0OutS0eso"}],"key":"FyklqeI8j1"}],"key":"crylzpS9lW"}],"key":"JONMsrE13E"},{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"ibEUr9KkqM"},{"type":"strong","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"Connect to Vertex AI runtime","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"YXHcuslbbP"}],"key":"kAMV5ATCX0"},{"type":"text","value":" dialog:","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"j8JecjcrQN"}],"key":"BeQBOHRfX1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":150,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"FVibl93OZK"},{"type":"strong","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Connect to an existing runtime","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"qeFH6ZEYq7"}],"key":"KUHzSTBAnH"},{"type":"text","value":" option","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"FZvirGEA5M"}],"key":"SHYlKLSnYh"}],"key":"FYUTeib0S6"},{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the runtime you just created under the ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"skDK20wYUk"},{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"Select an existing runtime","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"R5GWBYxOrd"}],"key":"DKBDyimOWG"},{"type":"text","value":" input","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"yJSlVNxieZ"}],"key":"J7g96BKsH5"}],"key":"Vq14UPCFTE"}],"key":"dqhMfhn6mF"}],"key":"VqTMTYNXvh"},{"type":"listItem","spread":true,"position":{"start":{"line":152,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally, click ","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"dJxf78uQc0"},{"type":"strong","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Create","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"JQwNmqIGJx"}],"key":"OkcA6DuzrU"},{"type":"text","value":" to connect to the runtime.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"vCbxtL5Ioh"}],"key":"PCU5RSfKGi"}],"key":"VOGIqtMsyr"}],"key":"ryMBKz5pxj"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-colab-en-3a5acf99f2223ef2828c22db4c405580.png","alt":"Create a new notebook ","align":"center","key":"n25e0Xch8o","urlSource":"./images/gcp-console-colab-enterprise-page-create-notebook.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"Screenshot: Create Colab Enterprise notebook","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"BMh6Y7xIQM"}],"key":"aGJtmcYAj0"}],"key":"n5Ity0YjIX"}],"enumerator":"8","key":"OheXKxRNSa"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-30096d4d5a65c1ae3e1d6c9c92ba8bd2.png","alt":"Connect to a runtime dropdown","align":"center","key":"ha933FmWSA","urlSource":"./images/gcp-console-vertex-notebook-connect-to-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"Screenshot: Connect to a runtime dropdown","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"XW6S7XdJZ4"}],"key":"z3HV73rwaJ"}],"key":"DaypqgImIp"}],"enumerator":"9","key":"Qej5yVC7rR"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-c6ad873e163b8fe1847b85b0cf64f950.png","alt":"Connect to a runtime dialog","align":"center","key":"tWS1zYjhtl","urlSource":"./images/gcp-console-vertex-notebook-connect-to-runtime-dialog.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Screenshot: Connect to a runtime dialog","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"ouyhi7QkG8"}],"key":"Ooq4mctI75"}],"key":"WQmITbvXw5"}],"enumerator":"10","key":"kTCWvXoQq8"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"Once connected, the runtime immediately becomes active and you can start using notebook.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"OjgcJgbbgS"}],"key":"ymFfDn4pKJ"},{"type":"heading","depth":2,"position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Step 5: Using the Notebook","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"JD1VdMIrM6"}],"identifier":"step-5-using-the-notebook","label":"Step 5: Using the Notebook","html_id":"step-5-using-the-notebook","implicit":true,"key":"OluTPFT4zo"},{"type":"paragraph","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"In this section, we will use the notebook to fine-tune the Gemma 3 1B model.","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"O7dNFF4Y32"}],"key":"HxmH0hkA57"},{"type":"paragraph","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Verify the GPU is Available","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"a7sCyYmkIv"}],"key":"zsu3RXCoZb"}],"key":"Q6dc1FCkIh"},{"type":"paragraph","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"To verify the GPU is available:","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"yZMqbv4lZv"}],"key":"Pq7MLSkFSJ"},{"type":"code","lang":"bash","value":"%%bash\nnvidia-smi","key":"gSTjCE9GlT"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-d466c46ebeabfc085151b4fd21e3aed4.png","alt":"Testing `nvidia-smi` command in Vertex notebook","align":"center","key":"heX51MK8vO","urlSource":"./images/gcp-console-vertex-notebook-nvidia-smi.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"Screenshot: Testing ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"jt1oTL5SHM"},{"type":"inlineCode","value":"nvidia-smi","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"Hc8el10Cno"},{"type":"text","value":" command in Vertex notebook","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"z0FjlJrsfD"}],"key":"iFdmVM9RLM"}],"key":"kgHB2T59Bs"}],"enumerator":"11","key":"obQlAjxY7V"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"strong","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"Set Up the Python Environment","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"fzj0SAxZ8I"}],"key":"xwntUyfZvt"}],"key":"t4neYEpz4Z"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"In the next cell, install ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"ij1z7kcf5d"},{"type":"inlineCode","value":"uv","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"pcQtRHf0oT"},{"type":"text","value":" and clone the repository:","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"FL86pbe1UW"}],"key":"cyMHhxbhDR"},{"type":"code","lang":"bash","value":"%%bash\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nsource $HOME/.local/bin/env\ngit clone https://github.com/rexsimiloluwah/finetuning-gemma-1b-aims-gcp-tutorial.git\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv sync","key":"bTAaLkz3pE"},{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"strong","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Run Training","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"BdrYivmLDB"}],"key":"cWcMRJ6Die"}],"key":"Eotn1SF8GJ"},{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"In the next cell, run the fine-tuning script:","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"gfzzHBtZPq"}],"key":"YvZpTPdsgD"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_train data.source=gcs data.max_train_samples=10000 training.num_epochs=2 training.batch_size=8 experiment_id=exp_lora_r8_colab","key":"dPZmmtntcX"},{"type":"paragraph","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Training takes roughly 20-30 minutes on the L4. You can monitor progress in real time from your WandB dashboard at ","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"AWZ0Tv2W3b"},{"type":"link","url":"http://wandb.ai","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"wandb.ai","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"vNSp6o2loa"}],"urlSource":"http://wandb.ai","key":"s6CQkL0wWD"},{"type":"text","value":" while the cell is running.","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"es9Y0zNWXl"}],"key":"mT9H2t6i0I"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-6d79d54c866bb6ed512ba23c4dced333.png","alt":"Run the training script","align":"center","key":"MgVoBd9Hgi","urlSource":"./images/gcp-console-vertex-notebook-train-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the training script in the Vertex notebook. Here, it was trained for only 1 epoch using 500 samples for demonstration purposes. Do not expect any good results during evaluation.","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"PQ1zcuB6g9"}],"key":"sD6BX3uL1g"}],"key":"ixPrW3PGY5"}],"enumerator":"12","key":"FY2MelsesG"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"udN3iBjX7p"}],"key":"YiWspUHrcL"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Unlike the VM-based session, you do not need tmux here. The notebook cell keeps running even if you close your browser tab, as long as the runtime stays active. You can come back later and see the output when it completes.","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"Q9JwGqVJ4s"}],"key":"JFexV0eoMJ"}],"key":"cwkZn8RObB"},{"type":"paragraph","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"strong","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"Run Evaluation","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"IfrnSP5Hkl"}],"key":"m14vQuyS9N"}],"key":"LVvodDJT03"},{"type":"paragraph","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"text","value":"Once training finishes, run evaluation in the next cell:","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"ZV3ktxQoSi"}],"key":"nOt0ZuXWES"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_evaluate \\\n    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \\\n    --eval_file data/eval/eval_prompts.jsonl \\\n    --max_eval_samples 200","key":"N30aDPcDl7"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-79342af3f3abb8495ba44f52308188ec.png","alt":"Run the evaluation script","align":"center","key":"RjNQ99kP4b","urlSource":"./images/gcp-console-vertex-notebook-evaluate-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the evaluation script.","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"PsWWaXR6Sl"}],"key":"TOoOXhRnMV"}],"key":"KVem1HGeqq"}],"enumerator":"13","key":"qnOxFd3u7T"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"children":[{"type":"text","value":"This computes perplexity and repetition rate on 200 eval examples and logs the results to WandB.","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"JHuIBL6tem"}],"key":"XIfhD83JcU"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"lzFKwq8P4t"}],"key":"hd2Gu2vmWf"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Do not worry about the evaluation results. The goal of this session is to walk through the complete workflow, not to produce a state-of-the-art model.","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"P93YbP3DNh"}],"key":"u0gFnzgbh5"}],"key":"YSmWQOGIWw"},{"type":"paragraph","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"strong","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"text","value":"Run Inference","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"vDeuCEht8u"}],"key":"NOjxkX1Ls0"}],"key":"Oxh26o05UH"},{"type":"paragraph","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"children":[{"type":"text","value":"Test the trained model on a single instruction in the next cell:","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"YXKol92tkC"}],"key":"Bfuirkc1wU"},{"type":"code","lang":"bash","value":"%%bash\nsource $HOME/.local/bin/env\ncd finetuning-gemma-1b-aims-gcp-tutorial\nuv run python -m scripts.run_inference \\\n    --model_path outputs/exp_lora_r8_colab/checkpoint-2500 \\\n    --instruction \"Explain what machine learning is in simple terms\"","key":"RCQSrGt8q3"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-vertex-n-eafef88fc106fd94c62a93b2ab97d1a8.png","alt":"Run the inference script","align":"center","key":"yfeebnO1Ga","urlSource":"./images/gcp-console-vertex-notebook-inference-script.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"text","value":"Screenshot: Run the inference script.","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"x5tcTJCDxn"}],"key":"MfejF2pF01"}],"key":"cj5H3hPQXj"}],"enumerator":"14","key":"AskOWh6Dwy"},{"type":"heading","depth":2,"position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"text","value":"Step 6: Resource Cleanup","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"GkzeBIcwML"}],"identifier":"step-6-resource-cleanup","label":"Step 6: Resource Cleanup","html_id":"step-6-resource-cleanup","implicit":true,"key":"Wcgbe3PBEE"},{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Danger","key":"j80DPKA8tj"}],"key":"pT0PGxyRUq"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"Colab Enterprise runtimes are billed by the hour even when idle. Always delete the runtime when you are done to avoid unexpected charges.","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"P9zWlOKzKB"}],"key":"V07QDYvuCf"}],"key":"UhGuLKOBuu"},{"type":"paragraph","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"children":[{"type":"text","value":"Delete the runtime from the GCP Console:","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"eLSKkCVOKZ"}],"key":"MUgjC8hoRy"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":289,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the left sidebar, click ","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"zx2Sd9xCok"},{"type":"strong","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"text","value":"Runtimes","position":{"start":{"line":289,"column":1},"end":{"line":289,"column":1}},"key":"gdiNH3DxQp"}],"key":"rgROWFuGNB"}],"key":"s0lBUegmWx"}],"key":"x7vk9HfZeX"},{"type":"listItem","spread":true,"position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Find your runtime in the list","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"r2Sl7Knly8"}],"key":"pRKnt2BDhd"}],"key":"Iqq6FGBS0k"},{"type":"listItem","spread":true,"position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the three dots menu next to it","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"I80TqxNRl5"}],"key":"PGwkm0qT7p"}],"key":"Oa3aVIfv7a"},{"type":"listItem","spread":true,"position":{"start":{"line":292,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"JJSNXZzjCH"},{"type":"strong","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"Delete","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"Hnp1wNTvVC"}],"key":"ZXjN3bjaKF"}],"key":"hYFyuN8yCQ"}],"key":"dhmOfmOkC0"}],"key":"kfOdYGv16v"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"yb06tvpK1l"}],"key":"IjzVrG6sVH"},{"type":"paragraph","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"You can alternatively click ","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"quqUKadci7"},{"type":"strong","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Stop","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"wR3tzAxKJx"}],"key":"BrAb3Z19bE"},{"type":"text","value":" if you want to retain your data/environment for later use.","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"VsIS1b0RAz"}],"key":"mo4pOgzADJ"}],"key":"dEfjfYaErj"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gcp-console-delete-v-2303600aab870ff32a27b8911bc4a584.png","alt":"Delete the vertex AI runtime","align":"center","key":"xQ7sOHxNRz","urlSource":"./images/gcp-console-delete-vertexai-runtime.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"text","value":"Screenshot: Delete the Vertex AI runtime.","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"rRWfrmLgWy"}],"key":"gwWGr5xtN4"}],"key":"X21rcjxjPg"}],"enumerator":"15","key":"basHGzffne"},{"type":"thematicBreak","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"key":"p9cBuRZDI4"},{"type":"heading","depth":2,"position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"text","value":"ðŸ”‘ Key Takeaways","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"key":"f8ph7xVFzC"}],"identifier":"id-key-takeaways","label":"ðŸ”‘ Key Takeaways","html_id":"id-key-takeaways","implicit":true,"key":"nO9fWNAdDg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":308,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Colab Enterprise gives you an interactive GPU notebook environment with no infrastructure to manage, accessible directly from your browser","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"ltH91n5kvc"}],"key":"e4KZrLDgwB"}],"key":"tZSAie2PaS"},{"type":"listItem","spread":true,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Creating a runtime template first and reusing it across notebooks saves time and ensures a consistent hardware configuration across sessions","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"dARzuDzIcg"}],"key":"haCfMkxGq0"}],"key":"MFCjGeGtud"},{"type":"listItem","spread":true,"position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Adding environment variables to the runtime template means credentials are automatically available in every notebook that connects to it, without hardcoding them in notebook cells","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"X6xWQk9yhW"}],"key":"Fi4EaujKI6"}],"key":"O35DjmeBat"},{"type":"listItem","spread":true,"position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Unlike the VM-based approach, you do not need ","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"TGdkPIaHEp"},{"type":"inlineCode","value":"tmux","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"LA75f8xIi9"},{"type":"text","value":" since notebook cells keep running even if you close your browser, as long as the runtime stays active","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"MoUEmH1BSk"}],"key":"UjUDyIheyK"}],"key":"q73RKLnQYX"},{"type":"listItem","spread":true,"position":{"start":{"line":312,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For long training runs, a Custom Training Job is more reliable since it runs entirely unattended. Colab Enterprise is better suited for interactive experimentation and debugging.","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"KAP0Lozmfx"}],"key":"Jjx0d2ZKpm"}],"key":"c0Cv1FWhQ9"}],"key":"W58Kbthu4a"}],"key":"fTZyrFaNBU"}],"key":"B0ezT8yBsc"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Hands-On 01: Vertex AI Custom Training Jobs","url":"/part3-vertex-ai/hands-on-vertex-ai-custom-training-job","group":"Part 3 - Vertex AI"},"next":{"title":"Introduction","url":"/part4-cost-management","group":"Part 4 - Cost Management"}}},"domain":"http://localhost:3000"}